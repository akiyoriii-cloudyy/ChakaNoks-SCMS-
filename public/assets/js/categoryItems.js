/**
 * Category-based item options for ChakaNoks Chicken Restaurant
 * This file contains all product categories and their items for use across the system
 */

const CHAKANOKS_CATEGORY_ITEMS = {
    'Chicken Parts': [
        'Whole Chicken', 'Chicken Breast', 'Chicken Thigh', 'Chicken Wings', 'Chicken Drumstick',
        'Chicken Liver', 'Chicken Gizzard', 'Chicken Feet', 'Chicken Head', 'Chicken Neck',
        'Chicken Back', 'Chicken Heart', 'Chicken Kidney', 'Chicken Intestine', 'Chicken Blood',
        'Chicken Skin', 'Chicken Fat', 'Chicken Bones', 'Chicken Tail', 'Chicken Leg Quarter',
        'Chicken Breast Fillet', 'Chicken Tenderloin', 'Chicken Wing Tip', 'Chicken Wing Flat',
        'Chicken Wing Drumlette', 'Ground Chicken', 'Chicken Cutlet'
    ],
    'Beverages': [
        'Coca-Cola', 'Sprite', 'Royal', 'Pepsi', 'Mountain Dew',
        'Bottled Water', 'Mineral Water', 'Iced Tea Powder', 'Orange Juice', 'Pineapple Juice',
        'Mango Juice', 'Coffee', 'Hot Chocolate Mix', 'Lemonade Mix', 'Fruit Punch',
        'Energy Drink', 'Yakult', 'Fresh Milk', 'Chocolate Milk'
    ],
    'Condiments & Sauces': [
        'Ketchup', 'Mayonnaise', 'Hot Sauce', 'Soy Sauce', 'Vinegar',
        'Gravy Mix', 'Brown Gravy', 'White Gravy', 'BBQ Sauce', 'Honey Mustard',
        'Ranch Dressing', 'Thousand Island', 'Caesar Dressing', 'Sweet Chili Sauce',
        'Garlic Sauce', 'Cheese Sauce', 'Tartar Sauce', 'Buffalo Sauce', 'Teriyaki Sauce'
    ],
    'Cooking Oils': [
        'Vegetable Oil', 'Palm Oil', 'Canola Oil', 'Corn Oil', 'Coconut Oil', 'Olive Oil',
        'Shortening', 'Butter', 'Margarine'
    ],
    'Seasonings & Spices': [
        'Salt', 'Iodized Salt', 'Rock Salt', 'Black Pepper', 'White Pepper',
        'Garlic Powder', 'Onion Powder', 'Paprika', 'Cayenne Pepper', 'Chili Powder',
        'Chicken Seasoning', 'All-Purpose Seasoning', 'MSG', 'Oregano', 'Basil',
        'Thyme', 'Rosemary', 'Bay Leaves', 'Cumin', 'Curry Powder', 'Five Spice',
        'Lemon Pepper', 'Cajun Seasoning', 'Italian Seasoning'
    ],
    'Rice & Grains': [
        'White Rice', 'Brown Rice', 'Java Rice Mix', 'Garlic Rice Mix', 'Fried Rice Mix',
        'Jasmine Rice', 'Sticky Rice', 'Corn Grits'
    ],
    'Vegetables & Produce': [
        'Cabbage', 'Carrots', 'White Onions', 'Red Onions', 'Garlic',
        'Potatoes', 'Lettuce', 'Tomatoes', 'Cucumber', 'Green Bell Pepper',
        'Red Bell Pepper', 'Celery', 'Spring Onions', 'Ginger', 'Lemon',
        'Calamansi', 'Chili', 'Coleslaw Mix', 'Pickles', 'Corn'
    ],
    'Bread & Bakery': [
        'Burger Buns', 'Sandwich Bread', 'Pandesal', 'Hotdog Buns', 'Dinner Rolls',
        'Tortilla Wraps', 'Pita Bread', 'Garlic Bread', 'Breadcrumbs', 'Croutons'
    ],
    'Dairy Products': [
        'Salted Butter', 'Unsalted Butter', 'Cheddar Cheese', 'Sliced Cheese',
        'Parmesan Cheese', 'Cream Cheese', 'Fresh Milk', 'Evaporated Milk',
        'Condensed Milk', 'Heavy Cream', 'Sour Cream', 'Whipped Cream', 'Yogurt'
    ],
    'Frozen Goods': [
        'Frozen Fries', 'Frozen Curly Fries', 'Frozen Wedges',
        'Frozen Corn', 'Frozen Peas', 'Frozen Mixed Vegetables', 'Ice Cream',
        'Frozen Mozzarella Sticks'
    ],
    'Packaging & Supplies': [
        'Takeout Box', 'Paper Bag', 'Plastic Container',
        'Styrofoam Box', 'Plastic Utensils Set', 'Plastic Fork', 'Plastic Spoon',
        'Plastic Knife', 'Drinking Straws', 'Cups', 'Cup Lid', 'Sauce Cup',
        'Aluminum Foil', 'Cling Wrap', 'Wax Paper'
    ],
    'Cleaning & Sanitation': [
        'Dish Soap', 'Hand Soap', 'Hand Sanitizer', 'Bleach', 'Floor Cleaner',
        'Glass Cleaner', 'Degreaser', 'Disinfectant Spray', 'Sponge', 'Steel Wool',
        'Scrub Brush', 'Mop Head', 'Trash Bags', 'Rubber Gloves', 'Disposable Gloves'
    ],
    'Eggs': [
        'Chicken Eggs', 'Quail Eggs', 'Salted Eggs', 'Century Eggs'
    ],
    'Flour & Breading': [
        'All-Purpose Flour', 'Breading Mix', 'Cornstarch', 'Batter Mix',
        'Tempura Flour', 'Panko Breadcrumbs', 'Seasoned Flour', 'Cake Flour', 'Bread Flour'
    ],
    'Marinades & Brines': [
        'Chicken Marinade', 'BBQ Marinade', 'Teriyaki Marinade', 'Honey Garlic Marinade',
        'Lemon Herb Marinade', 'Spicy Marinade', 'Buttermilk Brine', 'Salt Brine Mix',
        'Pickle Juice', 'Soy Garlic Marinade'
    ],
    'Side Dishes': [
        'Coleslaw', 'Mashed Potato Mix', 'Gravy', 'Corn on the Cob',
        'Baked Beans', 'Mac and Cheese Mix', 'Potato Salad', 'Garden Salad Mix'
    ],
    'Desserts & Sweets': [
        'Chocolate Syrup', 'Caramel Syrup', 'Strawberry Syrup', 'Sundae Toppings',
        'Sprinkles', 'Whipped Cream', 'Brownie Mix', 'Cake Mix', 'Cookies',
        'Ice Cream Cones', 'Fruit Cocktail', 'Leche Flan Mix'
    ],
    'Paper Products': [
        'Napkins', 'Paper Towels', 'Tissue Paper', 'Toilet Paper',
        'Paper Plates', 'Paper Cups', 'Parchment Paper', 'Wax Paper Sheets'
    ],
    'Kitchen Equipment': [
        'Tongs', 'Spatula', 'Ladle', 'Measuring Cups', 'Measuring Spoons',
        'Thermometer', 'Timer', 'Cutting Board', 'Chef Knife', 'Peeler',
        'Can Opener', 'Whisk', 'Mixing Bowl', 'Strainer', 'Colander'
    ],
    'Uniforms & Apparel': [
        'Chef Hat', 'Hair Net', 'Apron', 'Kitchen Gloves', 'Safety Shoes',
        'Staff Polo Shirt', 'Name Tag', 'Face Mask'
    ]
};

// Item-specific unit options (items that have specific units)
const CHAKANOKS_ITEM_UNITS = {
    // Beverages - specific units
    'Coca-Cola': ['liters', 'bottles', 'cans'],
    'Sprite': ['liters', 'bottles', 'cans'],
    'Royal': ['liters', 'bottles', 'cans'],
    'Pepsi': ['liters', 'bottles', 'cans'],
    'Mountain Dew': ['liters', 'bottles', 'cans'],
    'Bottled Water': ['liters', 'bottles'],
    'Mineral Water': ['liters', 'bottles'],
    'Orange Juice': ['liters', 'bottles', 'boxes'],
    'Pineapple Juice': ['liters', 'bottles', 'boxes'],
    'Mango Juice': ['liters', 'bottles', 'boxes'],
    'Fresh Milk': ['liters', 'bottles', 'boxes'],
    'Chocolate Milk': ['liters', 'bottles', 'boxes'],
    'Energy Drink': ['bottles', 'cans'],
    'Yakult': ['bottles', 'packs'],
    'Iced Tea Powder': ['packs', 'kg'],
    'Coffee': ['packs', 'kg'],
    'Hot Chocolate Mix': ['packs', 'kg'],
    'Lemonade Mix': ['packs', 'kg'],
    'Fruit Punch': ['liters', 'bottles', 'packs'],
    
    // Cooking Oils
    'Vegetable Oil': ['liters', 'bottles'],
    'Palm Oil': ['liters', 'bottles'],
    'Canola Oil': ['liters', 'bottles'],
    'Corn Oil': ['liters', 'bottles'],
    'Coconut Oil': ['liters', 'bottles'],
    'Olive Oil': ['liters', 'bottles'],
    
    // Condiments - bottles or sachets
    'Ketchup': ['bottles', 'packs'],
    'Mayonnaise': ['bottles', 'packs'],
    'Hot Sauce': ['bottles'],
    'Soy Sauce': ['liters', 'bottles', 'packs'],
    'Vinegar': ['liters', 'bottles'],
    'BBQ Sauce': ['bottles'],
    'Honey Mustard': ['bottles'],
    'Ranch Dressing': ['bottles'],
    'Thousand Island': ['bottles'],
    'Caesar Dressing': ['bottles'],
    'Sweet Chili Sauce': ['bottles'],
    'Garlic Sauce': ['bottles'],
    'Cheese Sauce': ['bottles', 'packs'],
    'Tartar Sauce': ['bottles'],
    'Buffalo Sauce': ['bottles'],
    'Teriyaki Sauce': ['bottles'],
    'Gravy Mix': ['packs', 'kg'],
    'Brown Gravy': ['packs', 'bottles'],
    'White Gravy': ['packs', 'bottles'],
    
    // Rice & Grains
    'White Rice': ['kg', 'bags'],
    'Brown Rice': ['kg', 'bags'],
    'Jasmine Rice': ['kg', 'bags'],
    'Sticky Rice': ['kg', 'bags'],
    'Java Rice Mix': ['kg', 'packs'],
    'Garlic Rice Mix': ['kg', 'packs'],
    'Fried Rice Mix': ['kg', 'packs'],
    'Corn Grits': ['kg', 'packs'],
    
    // Flour & Breading
    'All-Purpose Flour': ['kg', 'bags'],
    'Breading Mix': ['kg', 'packs'],
    'Cornstarch': ['kg', 'packs'],
    'Batter Mix': ['kg', 'packs'],
    'Tempura Flour': ['kg', 'packs'],
    'Panko Breadcrumbs': ['kg', 'packs'],
    'Seasoned Flour': ['kg', 'packs'],
    'Cake Flour': ['kg', 'packs'],
    'Bread Flour': ['kg', 'packs'],
    
    // Eggs
    'Chicken Eggs': ['pcs', 'dozen', 'tray', 'boxes'],
    'Quail Eggs': ['pcs', 'dozen', 'tray', 'boxes'],
    'Salted Eggs': ['pcs', 'dozen', 'tray'],
    'Century Eggs': ['pcs', 'dozen'],
    
    // Dairy
    'Fresh Milk': ['liters', 'bottles'],
    'Evaporated Milk': ['cans', 'pcs'],
    'Condensed Milk': ['cans', 'pcs'],
    'Heavy Cream': ['liters', 'bottles'],
    'Yogurt': ['pcs', 'bottles'],
    
    // Marinades
    'Chicken Marinade': ['liters', 'bottles'],
    'BBQ Marinade': ['liters', 'bottles'],
    'Teriyaki Marinade': ['liters', 'bottles'],
    'Honey Garlic Marinade': ['liters', 'bottles'],
    'Lemon Herb Marinade': ['liters', 'bottles'],
    'Spicy Marinade': ['liters', 'bottles'],
    'Buttermilk Brine': ['liters', 'bottles'],
    'Salt Brine Mix': ['kg', 'packs'],
    'Pickle Juice': ['liters', 'bottles'],
    'Soy Garlic Marinade': ['liters', 'bottles'],
    
    // Cleaning supplies
    'Dish Soap': ['liters', 'bottles'],
    'Hand Soap': ['liters', 'bottles'],
    'Hand Sanitizer': ['liters', 'bottles'],
    'Bleach': ['liters', 'bottles'],
    'Floor Cleaner': ['liters', 'bottles'],
    'Glass Cleaner': ['bottles'],
    'Degreaser': ['liters', 'bottles'],
    'Disinfectant Spray': ['bottles', 'cans'],
    'Trash Bags': ['packs', 'rolls'],
    
    // Paper Products
    'Napkins': ['packs', 'pcs'],
    'Paper Towels': ['rolls', 'packs'],
    'Tissue Paper': ['boxes', 'packs'],
    'Toilet Paper': ['rolls', 'packs'],
    
    // Ice Cream
    'Ice Cream': ['liters', 'pcs', 'boxes']
};

// Default units for each category (fallback)
const CHAKANOKS_CATEGORY_UNITS = {
    'Chicken Parts': 'kg',
    'Beverages': 'bottles',
    'Condiments & Sauces': 'bottles',
    'Cooking Oils': 'liters',
    'Seasonings & Spices': 'packs',
    'Rice & Grains': 'kg',
    'Vegetables & Produce': 'kg',
    'Bread & Bakery': 'pcs',
    'Dairy Products': 'pcs',
    'Frozen Goods': 'packs',
    'Packaging & Supplies': 'pcs',
    'Cleaning & Sanitation': 'bottles',
    'Eggs': 'pcs',
    'Flour & Breading': 'kg',
    'Marinades & Brines': 'bottles',
    'Side Dishes': 'pcs',
    'Desserts & Sweets': 'pcs',
    'Paper Products': 'packs',
    'Kitchen Equipment': 'pcs',
    'Uniforms & Apparel': 'pcs'
};

// Default units by category (array of allowed units)
const CHAKANOKS_CATEGORY_ALLOWED_UNITS = {
    'Chicken Parts': ['kg', 'pcs'],
    'Beverages': ['liters', 'bottles', 'cans', 'packs'],
    'Condiments & Sauces': ['bottles', 'packs', 'liters'],
    'Cooking Oils': ['liters', 'bottles'],
    'Seasonings & Spices': ['packs', 'kg', 'pcs'],
    'Rice & Grains': ['kg', 'bags', 'packs'],
    'Vegetables & Produce': ['kg', 'pcs', 'bundles'],
    'Bread & Bakery': ['pcs', 'packs', 'bags'],
    'Dairy Products': ['pcs', 'kg', 'liters', 'bottles'],
    'Frozen Goods': ['packs', 'kg', 'pcs', 'boxes'],
    'Packaging & Supplies': ['pcs', 'packs', 'boxes', 'rolls'],
    'Cleaning & Sanitation': ['bottles', 'liters', 'pcs', 'packs'],
    'Eggs': ['pcs', 'dozen'],
    'Flour & Breading': ['kg', 'packs', 'bags'],
    'Marinades & Brines': ['liters', 'bottles'],
    'Side Dishes': ['pcs', 'kg', 'packs'],
    'Desserts & Sweets': ['pcs', 'bottles', 'packs'],
    'Paper Products': ['packs', 'rolls', 'boxes'],
    'Kitchen Equipment': ['pcs'],
    'Uniforms & Apparel': ['pcs']
};

// All available categories
const CHAKANOKS_CATEGORIES = Object.keys(CHAKANOKS_CATEGORY_ITEMS);

/**
 * Get items for a specific category
 * @param {string} category - Category name
 * @returns {Array} Array of item names
 */
function getCategoryItems(category) {
    return CHAKANOKS_CATEGORY_ITEMS[category] || [];
}

/**
 * Get default unit for a category
 * @param {string} category - Category name
 * @returns {string} Default unit
 */
function getCategoryDefaultUnit(category) {
    return CHAKANOKS_CATEGORY_UNITS[category] || 'pcs';
}

/**
 * Get allowed units for an item (falls back to category units)
 * @param {string} itemName - Item name
 * @param {string} category - Category name (optional, for fallback)
 * @returns {Array} Array of allowed unit options
 */
function getItemUnits(itemName, category) {
    // Check if item has specific units defined
    if (CHAKANOKS_ITEM_UNITS[itemName]) {
        return CHAKANOKS_ITEM_UNITS[itemName];
    }
    // Fall back to category allowed units
    if (category && CHAKANOKS_CATEGORY_ALLOWED_UNITS[category]) {
        return CHAKANOKS_CATEGORY_ALLOWED_UNITS[category];
    }
    // Default units
    return ['pcs', 'kg', 'liters', 'packs', 'boxes', 'bottles', 'cans', 'bags', 'rolls', 'dozen'];
}

/**
 * Update unit select options based on selected item
 * @param {HTMLSelectElement} unitSelect - The unit select element
 * @param {string} itemName - Selected item name
 * @param {string} category - Category name (for fallback)
 */
function updateUnitOptions(unitSelect, itemName, category) {
    if (!unitSelect) return;
    
    const allowedUnits = getItemUnits(itemName, category);
    const currentValue = unitSelect.value;
    
    // Clear and repopulate
    unitSelect.innerHTML = '';
    
    allowedUnits.forEach(function(unit) {
        const option = document.createElement('option');
        option.value = unit;
        option.textContent = unit;
        unitSelect.appendChild(option);
    });
    
    // Try to keep the current selection if it's still valid
    if (allowedUnits.includes(currentValue)) {
        unitSelect.value = currentValue;
    } else {
        // Set to first option (default for the item)
        unitSelect.value = allowedUnits[0];
    }
}

/**
 * Populate a select element with category items
 * @param {HTMLSelectElement} selectElement - The select element to populate
 * @param {string} category - Category name
 * @param {boolean} includeOther - Whether to include "Other" option
 */
function populateCategoryItems(selectElement, category, includeOther = true) {
    selectElement.innerHTML = '<option value="">Select Item</option>';
    
    const items = getCategoryItems(category);
    items.forEach(function(item) {
        const option = document.createElement('option');
        option.value = item;
        option.textContent = item;
        selectElement.appendChild(option);
    });
    
    if (includeOther) {
        const otherOption = document.createElement('option');
        otherOption.value = '__other__';
        otherOption.textContent = '-- Other (Custom Item) --';
        selectElement.appendChild(otherOption);
    }
}

/**
 * Search for items across all categories
 * @param {string} query - Search query
 * @returns {Array} Array of matching items with their categories
 */
function searchItems(query) {
    const results = [];
    const lowerQuery = query.toLowerCase();
    
    for (const [category, items] of Object.entries(CHAKANOKS_CATEGORY_ITEMS)) {
        items.forEach(function(item) {
            if (item.toLowerCase().includes(lowerQuery)) {
                results.push({ item, category });
            }
        });
    }
    
    return results;
}

// Export for module systems (if needed)
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        CHAKANOKS_CATEGORY_ITEMS,
        CHAKANOKS_CATEGORY_UNITS,
        CHAKANOKS_CATEGORY_ALLOWED_UNITS,
        CHAKANOKS_ITEM_UNITS,
        CHAKANOKS_CATEGORIES,
        getCategoryItems,
        getCategoryDefaultUnit,
        getItemUnits,
        updateUnitOptions,
        populateCategoryItems,
        searchItems
    };
}
